{"version":3,"file":"script.js","mappings":"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","sources":["webpack://cf7-antispam/./includes/src/script.js"],"sourcesContent":["/* eslint-disable camelcase */\r\n/* global cf7a_settings, wpcf7 */\r\n'use strict';\r\n\r\nwindow.onload = function () {\r\n\t// disable cf7 antispam script if contact form is not loaded in this page\r\n\tif ( ! window.wpcf7 ) return;\r\n\r\n\tconst cf7aPrefix = cf7a_settings.prefix;\r\n\tconst cf7aVersion = cf7a_settings.version;\r\n\r\n\t// disable cf7 refill on load\r\n\twpcf7.cached =\r\n\t\tparseInt( cf7a_settings.disableReload ) === 0 && wpcf7.cached; // if is cached disable reload\r\n\r\n\t/**\r\n\t * If the browser supports the `maxTouchPoints` property, then return the value of that property. If the browser supports\r\n\t * the `msMaxTouchPoints` property, then return the value of that property. If the browser supports the `matchMedia`\r\n\t * method, then return the value of the `matches` property of the `matchMedia` method. If the browser supports the\r\n\t * `orientation` property, then return `true`. If the browser doesn't support any of the above, then return the value of\r\n\t * the `test` method of the `RegExp` object\r\n\t *\r\n\t * @return {boolean} if has touchscreen or not\r\n\t */\r\n\tfunction testTouch() {\r\n\t\tlet hasTouch;\r\n\t\tif ( 'maxTouchPoints' in window.navigator ) {\r\n\t\t\thasTouch = window.navigator.maxTouchPoints > 0;\r\n\t\t} else if ( 'msMaxTouchPoints' in window.navigator ) {\r\n\t\t\thasTouch = window.navigator.msMaxTouchPoints > 0;\r\n\t\t} else {\r\n\t\t\tconst mQ =\r\n\t\t\t\twindow.matchMedia && window.matchMedia( '(pointer:coarse)' );\r\n\t\t\tif ( mQ && mQ.media === '(pointer:coarse)' ) {\r\n\t\t\t\thasTouch = !! mQ.matches;\r\n\t\t\t} else if ( 'orientation' in window ) {\r\n\t\t\t\thasTouch = true; // deprecated, but good fallback\r\n\t\t\t} else {\r\n\t\t\t\t// Only as a last resort, fall back to user agent sniffing\r\n\t\t\t\tconst UA = window.navigator.userAgent;\r\n\t\t\t\thasTouch =\r\n\t\t\t\t\t/\\b(BlackBerry|webOS|iPhone|IEMobile)\\b/i.test( UA ) ||\r\n\t\t\t\t\t/\\b(Android|Windows Phone|iPad|iPod)\\b/i.test( UA );\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn hasTouch;\r\n\t}\r\n\r\n\t/**\r\n\t * If the user is on an iOS device, return true\r\n\t * https://stackoverflow.com/questions/9038625/detect-if-device-is-ios\r\n\t *\r\n\t * @return {boolean} true if the device is apple ios\r\n\t */\r\n\tfunction isIOS() {\r\n\t\treturn (\r\n\t\t\t[\r\n\t\t\t\t'iPad Simulator',\r\n\t\t\t\t'iPhone Simulator',\r\n\t\t\t\t'iPod Simulator',\r\n\t\t\t\t'iPad',\r\n\t\t\t\t'iPhone',\r\n\t\t\t\t'iPod',\r\n\t\t\t].includes( navigator.platform ) ||\r\n\t\t\t// iPad on iOS 13 detection\r\n\t\t\t( navigator.userAgent.includes( 'Mac' ) &&\r\n\t\t\t\t'ontouchend' in document )\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * It returns an object with the browser's name, version, and other information\r\n\t *\r\n\t * @return {Object} An object with the following properties:\r\n\t * \t- isFFox\r\n\t * \t- isSamsung\r\n\t * \t- isOpera\r\n\t * \t- isIE\r\n\t * \t- isIELegacy\r\n\t * \t- isEdge\r\n\t * \t- isChrome\r\n\t * \t- isSafari\r\n\t * \t- isUnknown\r\n\t * \t- isIos\r\n\t * \t- isAndroid\r\n\t * \t- touch\r\n\t */\r\n\tconst browserFingerprint = () => {\r\n\t\tconst ua = window.navigator.userAgent;\r\n\r\n\t\t// holds the object with the tested props\r\n\t\tconst tests = {\r\n\t\t\ttimezone: Intl.DateTimeFormat().resolvedOptions().timeZone || null,\r\n\t\t\tplatform: window.navigator.platform || null,\r\n\t\t\tscreens: [ window.screen.width, window.screen.height ] || null,\r\n\t\t\tmemory: window.navigator.deviceMemory || null,\r\n\t\t\tuser_agent: ua || null,\r\n\t\t\tapp_version: window.navigator.appVersion || null,\r\n\t\t\twebdriver: window.navigator.webdriver === false || null,\r\n\t\t\tsession_storage: window.sessionStorage ? 1 : null,\r\n\t\t};\r\n\r\n\t\t// detect browser\r\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/Window/navigator\r\n\t\tif ( ua.indexOf( 'Firefox' ) > -1 ) {\r\n\t\t\ttests.isFFox = true;\r\n\t\t} else if ( ua.indexOf( 'SamsungBrowser' ) > -1 ) {\r\n\t\t\ttests.isSamsung = true;\r\n\t\t} else if ( ua.indexOf( 'Opera' ) > -1 || ua.indexOf( 'OPR' ) > -1 ) {\r\n\t\t\ttests.isOpera = true;\r\n\t\t} else if ( ua.indexOf( 'Trident' ) > -1 ) {\r\n\t\t\ttests.isIE = true;\r\n\t\t} else if ( ua.indexOf( 'Edge' ) > -1 ) {\r\n\t\t\ttests.isIELegacy = true;\r\n\t\t} else if ( ua.indexOf( 'Edg' ) > -1 ) {\r\n\t\t\ttests.isEdge = true;\r\n\t\t} else if (\r\n\t\t\tua.indexOf( 'Chrome' ) > -1 ||\r\n\t\t\tua.indexOf( 'CriOS' ) > -1\r\n\t\t) {\r\n\t\t\t// criOS stands for chrome for ios\r\n\t\t\ttests.isChrome = true;\r\n\t\t} else if ( ua.indexOf( 'Safari' ) > -1 || ua.indexOf( 'GSA' ) > -1 ) {\r\n\t\t\t// GSA stand for Google Search Appliance\r\n\t\t\ttests.isSafari = true;\r\n\t\t} else {\r\n\t\t\ttests.isUnknown = true;\r\n\t\t}\r\n\r\n\t\tif ( isIOS() ) {\r\n\t\t\ttests.isIos = true;\r\n\t\t} else if ( ua.indexOf( 'Android' ) > -1 ) {\r\n\t\t\ttests.isAndroid = true;\r\n\t\t}\r\n\r\n\t\tif ( tests.isIos || tests.isAndroid ) tests.touch = testTouch();\r\n\r\n\t\treturn tests;\r\n\t};\r\n\r\n\t/**\r\n\t * It returns the browser language.\r\n\t *\r\n\t * @return {string} The language of the browser.\r\n\t */\r\n\tconst getBrowserLanguage = () => {\r\n\t\treturn (\r\n\t\t\twindow.navigator.languages.join() ||\r\n\t\t\twindow.navigator.language ||\r\n\t\t\twindow.navigator.browserLanguage ||\r\n\t\t\twindow.navigator.userLanguage\r\n\t\t);\r\n\t};\r\n\r\n\t/**\r\n\t * It creates a hidden input field with a name and value\r\n\t *\r\n\t * @param {string} key      - the name of the field\r\n\t * @param {string} value    - The value of the field.\r\n\t * @param {string} [prefix] - The prefix for the field name.\r\n\t *\r\n\t * @return {HTMLElement} A new input element with the type of hidden, name of the key, and value of the value.\r\n\t */\r\n\tconst createCF7Afield = ( key, value, prefix = cf7aPrefix ) => {\r\n\t\tconst e = document.createElement( 'input' );\r\n\t\te.setAttribute( 'type', 'hidden' );\r\n\t\te.setAttribute( 'name', prefix + key );\r\n\t\te.setAttribute(\r\n\t\t\t'value',\r\n\t\t\ttypeof value === 'string' ? value : JSON.stringify( value )\r\n\t\t);\r\n\t\treturn e;\r\n\t};\r\n\r\n\t// get all page forms\r\n\tconst wpcf7Forms = document.querySelectorAll( '.wpcf7' );\r\n\r\n\tif ( wpcf7Forms.length ) {\r\n\t\tlet oldy = 0,\r\n\t\t\tmouseMoveValue = 0,\r\n\t\t\tmouseActivityValue = 0;\r\n\r\n\t\tfor ( const wpcf7Form of wpcf7Forms ) {\r\n\t\t\tconst hiddenInputsContainer =\r\n\t\t\t\twpcf7Form.querySelector( 'form > div' );\r\n\r\n\t\t\t// 1) Standard bot checks\r\n\t\t\tconst botFingerprintKey = hiddenInputsContainer.querySelector(\r\n\t\t\t\t'input[name=' + cf7aPrefix + 'bot_fingerprint]'\r\n\t\t\t);\r\n\r\n\t\t\t// 2) Bot fingerprint extra checks\r\n\t\t\tconst botFingerprintExtra = hiddenInputsContainer.querySelector(\r\n\t\t\t\t'input[name=' + cf7aPrefix + 'bot_fingerprint_extras]'\r\n\t\t\t);\r\n\r\n\t\t\t// 3) Language check\r\n\t\t\tconst languageChecksEnabled = hiddenInputsContainer.querySelector(\r\n\t\t\t\t'input[name=' + cf7aPrefix + '_language]'\r\n\t\t\t);\r\n\r\n\t\t\t// how append bot fingerprint into hidden fields\r\n\t\t\tconst appendOnSubmit = hiddenInputsContainer.querySelector(\r\n\t\t\t\t'input[name=' + cf7aPrefix + 'append_on_submit]'\r\n\t\t\t);\r\n\r\n\t\t\t// how append bot fingerprint into hidden fields\r\n\t\t\tconst cf7aVersionInput = hiddenInputsContainer.querySelector(\r\n\t\t\t\t'input[name=' + cf7aPrefix + 'version]'\r\n\t\t\t);\r\n\r\n\t\t\t// get the fake field and skip it\r\n\t\t\tif (\r\n\t\t\t\twpcf7Form.querySelector( 'form' ).getAttribute( 'autocomplete' )\r\n\t\t\t)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t// then set the cf7 antispam version field\r\n\t\t\tcf7aVersionInput.setAttribute( 'value', cf7aVersion );\r\n\r\n\t\t\t// fingerprint browser data\r\n\t\t\tconst tests = browserFingerprint();\r\n\r\n\t\t\tif ( botFingerprintKey ) {\r\n\t\t\t\t// 1.0 hijack the value of the bot_fingerprint\r\n\t\t\t\tbotFingerprintKey.setAttribute(\r\n\t\t\t\t\t'value',\r\n\t\t\t\t\tbotFingerprintKey.getAttribute( 'value' ).slice( 0, 5 )\r\n\t\t\t\t);\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * then append the fields on submit\r\n\t\t\t\t * not supported in safari <11.3 https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/formdata_event#browser_compatibility\r\n\t\t\t\t * update 2022/10: finally safari seems to support decently and widely formData! adding anyway a check to avoid failures with old browsers\r\n\t\t\t\t */\r\n\t\t\t\tif (\r\n\t\t\t\t\t! appendOnSubmit ||\r\n\t\t\t\t\ttests.isIos ||\r\n\t\t\t\t\ttests.isIE ||\r\n\t\t\t\t\t!! window.FormData\r\n\t\t\t\t) {\r\n\t\t\t\t\t// or add them directly to hidden input container\r\n\t\t\t\t\tfor ( const key in tests ) {\r\n\t\t\t\t\t\thiddenInputsContainer.appendChild(\r\n\t\t\t\t\t\t\tcreateCF7Afield( key, tests[ key ] )\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst formElem = wpcf7Form.querySelector( 'form' );\r\n\t\t\t\t\tnew window.FormData( formElem.formData );\r\n\r\n\t\t\t\t\tformElem.addEventListener( 'formdata', ( e ) => {\r\n\t\t\t\t\t\tconst data = e.formData;\r\n\t\t\t\t\t\tfor ( const key in tests ) {\r\n\t\t\t\t\t\t\tdata.append( cf7aPrefix + key, tests[ key ] );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn data;\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 2) Bot fingerprint extra checks\r\n\t\t\tif ( botFingerprintExtra ) {\r\n\t\t\t\t// 2.1) check for mouse clicks\r\n\t\t\t\tconst activity = function () {\r\n\t\t\t\t\tconst botActivity = hiddenInputsContainer.querySelector(\r\n\t\t\t\t\t\t'input[name=' + cf7aPrefix + 'activity]'\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif ( botActivity ) botActivity.remove();\r\n\t\t\t\t\thiddenInputsContainer.append(\r\n\t\t\t\t\t\tcreateCF7Afield( 'activity', mouseActivityValue++ )\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif ( mouseActivityValue > 3 ) {\r\n\t\t\t\t\t\tdocument.body.removeEventListener(\r\n\t\t\t\t\t\t\t'mouseup',\r\n\t\t\t\t\t\t\tactivity\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tdocument.body.removeEventListener(\r\n\t\t\t\t\t\t\t'touchend',\r\n\t\t\t\t\t\t\tactivity\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\thiddenInputsContainer.append(\r\n\t\t\t\t\t\t\tcreateCF7Afield( 'mouseclick_activity', 'passed' )\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tdocument.body.addEventListener( 'mouseup', activity );\r\n\t\t\t\tdocument.body.addEventListener( 'touchend', activity );\r\n\r\n\t\t\t\t// 2.2) detect the mouse/touch direction change OR touchscreen iterations\r\n\t\t\t\tconst mouseMove = function ( e ) {\r\n\t\t\t\t\tif ( e.pageY > oldy ) mouseMoveValue += 1;\r\n\t\t\t\t\toldy = e.pageY;\r\n\r\n\t\t\t\t\tif ( mouseMoveValue > 3 ) {\r\n\t\t\t\t\t\tdocument.removeEventListener( 'mousemove', mouseMove );\r\n\t\t\t\t\t\thiddenInputsContainer.append(\r\n\t\t\t\t\t\t\tcreateCF7Afield( 'mousemove_activity', 'passed' )\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tdocument.addEventListener( 'mousemove', mouseMove );\r\n\r\n\t\t\t\t// set mousemove_activity true as fallback in mobile devices (we have already tested the ability to use the touchscreen)\r\n\t\t\t\tif ( tests.isIos || tests.isAndroid ) {\r\n\t\t\t\t\thiddenInputsContainer.append(\r\n\t\t\t\t\t\tcreateCF7Afield( 'mousemove_activity', 'passed' )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 2.3) WebGL Tests\r\n\t\t\t\t// credits //bot.sannysoft.com\r\n\t\t\t\tconst wpcf7box = document.createElement( 'div' );\r\n\t\t\t\twpcf7box.id = 'hidden';\r\n\t\t\t\thiddenInputsContainer.append( wpcf7box );\r\n\t\t\t\tString.prototype.hashCode = function () {\r\n\t\t\t\t\tlet hash = 0,\r\n\t\t\t\t\t\ti,\r\n\t\t\t\t\t\tchr;\r\n\t\t\t\t\tif ( this.length === 0 ) return hash;\r\n\t\t\t\t\tfor ( i = 0; i < this.length; i++ ) {\r\n\t\t\t\t\t\tchr = this.charCodeAt( i );\r\n\t\t\t\t\t\t// eslint-disable-next-line no-bitwise\r\n\t\t\t\t\t\thash = ( hash << 5 ) - hash + chr;\r\n\t\t\t\t\t\t// eslint-disable-next-line no-bitwise\r\n\t\t\t\t\t\thash |= 0; // Convert to 32bit integer\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn hash;\r\n\t\t\t\t};\r\n\r\n\t\t\t\tconst wglv = document.createElement( 'div' );\r\n\t\t\t\twglv.id = 'webgl-vendor';\r\n\t\t\t\twpcf7box.append( wglv );\r\n\t\t\t\tconst webGLVendorElement =\r\n\t\t\t\t\tdocument.getElementById( 'webgl-vendor' );\r\n\t\t\t\tconst wgle = document.createElement( 'div' );\r\n\t\t\t\twgle.id = 'webgl-renderer';\r\n\t\t\t\twpcf7box.append( wgle );\r\n\t\t\t\tconst webGLRendererElement =\r\n\t\t\t\t\tdocument.getElementById( 'webgl-renderer' );\r\n\t\t\t\tconst canvas = document.createElement( 'canvas' );\r\n\t\t\t\tconst gl =\r\n\t\t\t\t\tcanvas.getContext( 'webgl' ) ||\r\n\t\t\t\t\tcanvas.getContext( 'webgl-experimental' );\r\n\r\n\t\t\t\tif ( gl ) {\r\n\t\t\t\t\tconst debugInfo = gl.getExtension(\r\n\t\t\t\t\t\t'WEBGL_debug_renderer_info'\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// WebGL Vendor Test\r\n\t\t\t\t\t\tconst vendor = gl.getParameter(\r\n\t\t\t\t\t\t\tdebugInfo.UNMASKED_VENDOR_WEBGL\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\twebGLVendorElement.innerHTML = vendor;\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tvendor === 'Brian Paul' ||\r\n\t\t\t\t\t\t\tvendor === 'Google Inc.'\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\thiddenInputsContainer.append(\r\n\t\t\t\t\t\t\t\tcreateCF7Afield( 'webgl', 'failed' )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\thiddenInputsContainer.append(\r\n\t\t\t\t\t\t\t\tcreateCF7Afield( 'webgl', 'passed' )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch ( e ) {\r\n\t\t\t\t\t\twebGLVendorElement.innerHTML = 'Error: ' + e;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// WebGL Renderer Test\r\n\t\t\t\t\t\tconst renderer = gl.getParameter(\r\n\t\t\t\t\t\t\tdebugInfo.UNMASKED_RENDERER_WEBGL\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\twebGLRendererElement.innerHTML = renderer;\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\trenderer === 'Mesa OffScreen' ||\r\n\t\t\t\t\t\t\trenderer.indexOf( 'Swift' ) !== -1\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\thiddenInputsContainer.append(\r\n\t\t\t\t\t\t\t\tcreateCF7Afield( 'webgl_render', 'failed' )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\thiddenInputsContainer.append(\r\n\t\t\t\t\t\t\t\tcreateCF7Afield( 'webgl_render', 'passed' )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t} catch ( e ) {\r\n\t\t\t\t\t\twebGLRendererElement.innerHTML = 'Error: ' + e;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\thiddenInputsContainer.append(\r\n\t\t\t\t\t\tcreateCF7Afield( 'webgl', 'failed' )\r\n\t\t\t\t\t);\r\n\t\t\t\t\thiddenInputsContainer.append(\r\n\t\t\t\t\t\tcreateCF7Afield( 'webgl_render', 'failed' )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// TODO: change the canvas name\r\n\t\t\t\tconst testCanvas = [];\r\n\t\t\t\tconst testCanvasIframe = [];\r\n\t\t\t\ttestCanvas[ 1 ] = document.createElement( 'div' );\r\n\t\t\t\ttestCanvas[ 1 ].id = 'canvas1';\r\n\r\n\t\t\t\ttestCanvas[ 2 ] = document.createElement( 'div' );\r\n\t\t\t\ttestCanvas[ 2 ].id = 'canvas2';\r\n\r\n\t\t\t\ttestCanvas[ 3 ] = document.createElement( 'div' );\r\n\t\t\t\ttestCanvas[ 3 ].id = 'canvas3';\r\n\t\t\t\ttestCanvasIframe[ 3 ] = document.createElement( 'iframe' );\r\n\t\t\t\ttestCanvasIframe[ 3 ].id = 'canvas3-iframe';\r\n\t\t\t\ttestCanvasIframe[ 3 ].class = 'canvased';\r\n\t\t\t\ttestCanvasIframe[ 3 ].setAttribute(\r\n\t\t\t\t\t'sandbox',\r\n\t\t\t\t\t'allow-same-origin'\r\n\t\t\t\t);\r\n\t\t\t\ttestCanvas[ 3 ].append( testCanvasIframe[ 3 ] );\r\n\r\n\t\t\t\ttestCanvas[ 4 ] = document.createElement( 'div' );\r\n\t\t\t\ttestCanvas[ 4 ].id = 'canvas4';\r\n\t\t\t\ttestCanvasIframe[ 4 ] = document.createElement( 'iframe' );\r\n\t\t\t\ttestCanvasIframe[ 4 ].id = 'canvas4-iframe';\r\n\t\t\t\ttestCanvasIframe[ 4 ].class = 'canvased';\r\n\t\t\t\ttestCanvasIframe[ 4 ].setAttribute(\r\n\t\t\t\t\t'sandbox',\r\n\t\t\t\t\t'allow-same-origin'\r\n\t\t\t\t);\r\n\t\t\t\ttestCanvas[ 4 ].append( testCanvasIframe[ 4 ] );\r\n\r\n\t\t\t\ttestCanvas[ 5 ] = document.createElement( 'div' );\r\n\t\t\t\ttestCanvas[ 5 ].id = 'canvas5';\r\n\t\t\t\ttestCanvasIframe[ 5 ] = document.createElement( 'iframe' );\r\n\t\t\t\ttestCanvasIframe[ 5 ].id = 'canvas5-iframe';\r\n\t\t\t\ttestCanvasIframe[ 5 ].class = 'canvased';\r\n\t\t\t\ttestCanvas[ 5 ].append( testCanvasIframe[ 5 ] );\r\n\r\n\t\t\t\ttestCanvas.forEach( function ( e ) {\r\n\t\t\t\t\twpcf7box.appendChild( e );\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tconst drawCanvas2 = function ( num, useIframe = false ) {\r\n\t\t\t\t\tlet datUrl;\r\n\t\t\t\t\tlet canvas2d;\r\n\r\n\t\t\t\t\t/** @type {boolean} */\r\n\t\t\t\t\tlet isOkCanvas = true;\r\n\r\n\t\t\t\t\t/** @type {string} */\r\n\t\t\t\t\tconst canvasText = 'Bot test <canvas> 1.1';\r\n\r\n\t\t\t\t\tconst canvasContainer = document.getElementById(\r\n\t\t\t\t\t\t'canvas' + num\r\n\t\t\t\t\t);\r\n\t\t\t\t\tconst iframe = document.getElementById(\r\n\t\t\t\t\t\t'canvas' + num + '-iframe'\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tlet canvasElement = useIframe\r\n\t\t\t\t\t\t? iframe.contentDocument.createElement( 'canvas' )\r\n\t\t\t\t\t\t: document.createElement( 'canvas' );\r\n\r\n\t\t\t\t\tif ( canvasElement.getContext ) {\r\n\t\t\t\t\t\tcanvas2d = canvasElement.getContext( '2d' );\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tcanvasElement.setAttribute( 'width', 220 );\r\n\t\t\t\t\t\t\tcanvasElement.setAttribute( 'height', 30 );\r\n\r\n\t\t\t\t\t\t\tcanvas2d.textBaseline = 'top';\r\n\t\t\t\t\t\t\tcanvas2d.font = \"14px 'Arial'\";\r\n\t\t\t\t\t\t\tcanvas2d.textBaseline = 'alphabetic';\r\n\t\t\t\t\t\t\tcanvas2d.fillStyle = '#f60';\r\n\t\t\t\t\t\t\tcanvas2d.fillRect( 53, 1, 62, 20 );\r\n\t\t\t\t\t\t\tcanvas2d.fillStyle = '#069';\r\n\t\t\t\t\t\t\tcanvas2d.fillText( canvasText, 2, 15 );\r\n\t\t\t\t\t\t\tcanvas2d.fillStyle = 'rgba(102, 204, 0, 0.7)';\r\n\t\t\t\t\t\t\tcanvas2d.fillText( canvasText, 4, 17 );\r\n\t\t\t\t\t\t} catch ( b ) {\r\n\t\t\t\t\t\t\t/** @type {!Element} */\r\n\t\t\t\t\t\t\tcanvasElement = document.createElement( 'canvas' );\r\n\t\t\t\t\t\t\tcanvas2d = canvasElement.getContext( '2d' );\r\n\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\tvoid 0 === canvas2d ||\r\n\t\t\t\t\t\t\t\t'function' !==\r\n\t\t\t\t\t\t\t\t\ttypeof canvasElement.getContext( '2d' )\r\n\t\t\t\t\t\t\t\t\t\t.fillText\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\tisOkCanvas = false;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcanvasElement.setAttribute( 'width', 220 );\r\n\t\t\t\t\t\t\t\tcanvasElement.setAttribute( 'height', 30 );\r\n\t\t\t\t\t\t\t\t/** @type {string} */\r\n\t\t\t\t\t\t\t\tcanvas2d.textBaseline = 'top';\r\n\t\t\t\t\t\t\t\t/** @type {string} */\r\n\t\t\t\t\t\t\t\tcanvas2d.font = \"14px 'Arial'\";\r\n\t\t\t\t\t\t\t\t/** @type {string} */\r\n\t\t\t\t\t\t\t\tcanvas2d.textBaseline = 'alphabetic';\r\n\t\t\t\t\t\t\t\t/** @type {string} */\r\n\t\t\t\t\t\t\t\tcanvas2d.fillStyle = '#f60';\r\n\t\t\t\t\t\t\t\tcanvas2d.fillRect( 125, 1, 62, 20 );\r\n\t\t\t\t\t\t\t\t/** @type {string} */\r\n\t\t\t\t\t\t\t\tcanvas2d.fillStyle = '#069';\r\n\t\t\t\t\t\t\t\tcanvas2d.fillText( canvasText, 2, 15 );\r\n\t\t\t\t\t\t\t\t/** @type {string} */\r\n\t\t\t\t\t\t\t\tcanvas2d.fillStyle = 'rgba(102, 204, 0, 0.7)';\r\n\t\t\t\t\t\t\t\tcanvas2d.fillText( canvasText, 4, 17 );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tisOkCanvas &&\r\n\t\t\t\t\t\t\t'function' === typeof canvasElement.toDataURL\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tdatUrl = canvasElement.toDataURL( 'image/png' );\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t'boolean' === typeof datUrl ||\r\n\t\t\t\t\t\t\t\t\tvoid 0 === datUrl\r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\tthrow new Error( 'Unable to load image' );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} catch ( a ) {\r\n\t\t\t\t\t\t\t\t/** @type {string} */\r\n\t\t\t\t\t\t\t\tdatUrl = '';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif ( 0 === datUrl.indexOf( 'data:image/png' ) ) {\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t/** @type {boolean} */\r\n\t\t\t\t\t\t\t\tisOkCanvas = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t/** @type {boolean} */\r\n\t\t\t\t\t\t\tisOkCanvas = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t/** @type {boolean} */\r\n\t\t\t\t\t\tisOkCanvas = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( isOkCanvas ) {\r\n\t\t\t\t\t\tconst newDiv = document.createElement( 'div' );\r\n\t\t\t\t\t\tnewDiv.innerHTML = 'Hash: ' + datUrl.hashCode();\r\n\t\t\t\t\t\tcanvasContainer.appendChild( canvasElement );\r\n\t\t\t\t\t\tcanvasContainer.appendChild( newDiv );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst newDiv = document.createElement( 'div' );\r\n\t\t\t\t\t\tnewDiv.innerHTML = 'Canvas failed';\r\n\t\t\t\t\t\tcanvasContainer.appendChild( newDiv );\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\twindow.canvasCount = 0;\r\n\r\n\t\t\t\tdrawCanvas2( '1' );\r\n\t\t\t\tdrawCanvas2( '2' );\r\n\r\n\t\t\t\tdrawCanvas2( '3', true );\r\n\t\t\t\tdrawCanvas2( '4', true );\r\n\t\t\t\tdrawCanvas2( '5', true );\r\n\r\n\t\t\t\t// then remove the useless div\r\n\t\t\t\twpcf7box.remove();\r\n\t\t\t}\r\n\r\n\t\t\t// 3) check the browser language\r\n\t\t\tif ( languageChecksEnabled ) {\r\n\t\t\t\thiddenInputsContainer.append(\r\n\t\t\t\t\tcreateCF7Afield( 'browser_language', getBrowserLanguage() )\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n"],"names":["window","onload","wpcf7","cf7aPrefix","cf7a_settings","prefix","cf7aVersion","version","cached","parseInt","disableReload","testTouch","hasTouch","navigator","maxTouchPoints","msMaxTouchPoints","mQ","matchMedia","media","matches","UA","userAgent","test","isIOS","includes","platform","document","browserFingerprint","ua","tests","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","screens","screen","width","height","memory","deviceMemory","user_agent","app_version","appVersion","webdriver","session_storage","sessionStorage","indexOf","isFFox","isSamsung","isOpera","isIE","isIELegacy","isEdge","isChrome","isSafari","isUnknown","isIos","isAndroid","touch","getBrowserLanguage","languages","join","language","browserLanguage","userLanguage","createCF7Afield","key","value","e","createElement","setAttribute","JSON","stringify","wpcf7Forms","querySelectorAll","length","oldy","mouseMoveValue","mouseActivityValue","wpcf7Form","hiddenInputsContainer","querySelector","botFingerprintKey","botFingerprintExtra","languageChecksEnabled","appendOnSubmit","cf7aVersionInput","getAttribute","slice","FormData","appendChild","formElem","formData","addEventListener","data","append","activity","botActivity","remove","body","removeEventListener","mouseMove","pageY","wpcf7box","id","String","prototype","hashCode","hash","i","chr","charCodeAt","wglv","webGLVendorElement","getElementById","wgle","webGLRendererElement","canvas","gl","getContext","debugInfo","getExtension","vendor","getParameter","UNMASKED_VENDOR_WEBGL","innerHTML","renderer","UNMASKED_RENDERER_WEBGL","testCanvas","testCanvasIframe","class","forEach","drawCanvas2","num","useIframe","datUrl","canvas2d","isOkCanvas","canvasText","canvasContainer","iframe","canvasElement","contentDocument","textBaseline","font","fillStyle","fillRect","fillText","b","toDataURL","Error","a","newDiv","canvasCount"],"sourceRoot":""}